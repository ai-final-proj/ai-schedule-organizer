<div class="app-shell">
  <!-- Sidebar takes a collapsed input -->
  <app-sidebar [collapsed]="sidebarCollapsed"></app-sidebar>

  <main class="app-main">
    <!-- Header -->
    <header class="app-header">
      <button class="sidebar-trigger" type="button" (click)="toggleSidebar()" aria-label="Toggle sidebar">
        <!-- panel-left icon -->
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M3 3h18v18H3z"></path>
          <path d="M9 3v18"></path>
        </svg>
      </button>
      <h1 class="app-title">{{ title }}</h1>
    </header>

    <!-- Page content -->
    <section class="app-content">
      <router-outlet></router-outlet>
    </section>

    <!-- Chat FAB (hidden on /chat) -->
    <a *ngIf="showFab"
       [routerLink]="'/chat'"
       class="chat-fab"
       aria-label="Open chat">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="none"
           stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15a4 4 0 0 1-4 4H8l-4 4v-8a8 8 0 0 1 8-8h5a4 4 0 0 1 4 4z"/>
      </svg>
    </a>
  </main>
</div>
